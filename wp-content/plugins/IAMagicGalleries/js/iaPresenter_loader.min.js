/*! ia-designer 09-02-2024 
Copyright Â© 2023 Information Aesthetics. All rights reserved.
This work is licensed under the GPL2, V2/ license.*/

var IA_Presenter_loader=function(t){var e=[["dist/mousetrap.min.js",function(){return window.hasOwnProperty("Mousetrap")}],["dist/simple-statistics.min.js",function(){return window.hasOwnProperty("ss")&&ss.hasOwnProperty("linearRegression")}],["dist/math.min.js",function(){return window.hasOwnProperty("math")&&math.hasOwnProperty("eval")}],["dist/minify.json.min.js",function(){return JSON.hasOwnProperty("minify")}]],r=[],n=!1,i={},o={},s=0;function a(t,e,r,i){if("object"==typeof r&&(i=r,r=""),r=r||"",i=i||{},e=e||"js",!i.load_condition||"function"!=typeof i.load_condition||i.load_condition())if(n)n.push([t,e,r,i]);else{if(n=[],t.pre_scripts&&(i.pre_scripts=t.pre_scripts,delete t.pre_scripts),i.load_only)return p(i,r,f.bind(void 0,i,r));p(i,r,function(){if("function"==typeof t)t(),f(i,r);else if("string"==typeof t)switch(e){case"js":jQuery.getScript(t).done(function(){f(i,r)}).fail(y);break;case"json":jQuery.get(t,function(){},"text").done(a).fail(y)}else"object"==typeof t&&t.panel_setting&&a(t)})}function a(t){if((t="object"==typeof t?t:JSON.parse(JSON.minify(t))).html_tab_id)o[t.html_tab_id]||(e(t.html_tab_id,t),o[t.html_tab_id]=!0);else{let r=document.querySelector('iframe[name="editor-canvas"]'),n=r?r.contentDocument||r.contentWindow.document:null,i=jQuery(".IA_Designer_Container, .IA_Presenter_Container").toArray();if(n){let t=jQuery(n).find(".IA_Presenter_Container").toArray();i=i.concat(t),Snap_ia.setWindow(r.contentWindow)}if(!i.length)return;let a=0;i.forEach(function(r){let i;if(n&&n.contains(r)&&(i=n),r=Snap_ia(r),t.container_filter&&"function"==typeof t.container_filter&&!t.container_filter(r))return;t.pre_process_container&&"function"==typeof t.pre_process_container&&t.pre_process_container(r);let c=r.attr("id");if(c||(c="IA_Designer_Container_gui"+s++,r.attr("id",c)),!o[c]){const n=r.select("svg");let s;if(n){const e=n.node.outerHTML;t.initial_graphics={svg:e},e.remove()}else if(s=r.attr("presentation"))if(s.startsWith("base64:")){let e=LZString.decompressFromBase64(s.slice(7));e||(e=atob(s.slice(7))),t.initial_graphics={svg:e},r.attr("presentation","")}else s.startsWith("http")&&(t.initial_graphics=s);t.html_tab_id=c,setTimeout(e.bind(void 0,c,Object.assign({},t),i),a),a+=200,o[c]=!0}})}function e(t,e,r){let n;(n=e.initial_graphics)&&delete e.initial_graphics;var i=IA_Designer.createInterface(t,e,r);const o=(r=r||window.document).defaultView.getComputedStyle(r.body,null).getPropertyValue("background-color");i.div_container.setStyle({background:o}),n?"string"==typeof n?i.openGraphics(n,c):"object"==typeof n&&n.hasOwnProperty("svg")&&(i.loadGraphicsFromString(n.svg),c(i)):c(i)}f(t,r)}}var c=function(t){};function p(t,r,n){if(t.after_callback){let e=n;n=function(){e&&e(),t.after_callback()}}if(window.IA_Designer||!window.jQuery)return n&&n();var i=e;t.pre_scripts&&(Array.isArray(t.pre_scripts)||(t.pre_scripts=[t.pre_scripts]),i=[...t.pre_scripts,...i]);var o=function(t,e,r){const n=jQuery.Deferred();if(r){let r=!1;if(e&&"string"==typeof e){let i=localStorage.getItem(e);i&&(i=JSON.parse(i)).url===t&&i.data&&(u(i.data,n),r=!0)}!r&&jQuery.getJSON(t,function(r){e&&localStorage.setItem(e,JSON.stringify({url:t,data:r})),u(r,n)})}else jQuery.getScript(t).done(function(t,e){n.resolve()});return n.promise()},s=[];jQuery.ajaxSetup({cache:!0}),i.forEach(function(t){let e=!1;if(Array.isArray(t)){if("function"==typeof t[1]&&t[1]())return;t=t[0]}"string"==typeof t&&(t=t.startsWith("http")?t:r+t,s.push(o(t))),"object"==typeof t&&t.encrypted&&(e=t.cache||!1,t=(t=t.url).startsWith("http")?t:r+t,s.push(o(t,e,!0)))});var a=jQuery.when.apply($,s);n&&a.done(n)}function f(t,e){if("string"==typeof t&&(e=t,t={}),t.post_scripts&&("string"==typeof t.post_scripts&&(t.post_scripts=t.post_scripts.split(",")),r=r.concat(t.post_scripts)),t.crypto&&r.push("dist/ia_md5.min.js"),r.forEach(function(t){if("object"==typeof t&&(t.ES6||t.ES6)&&(t=supportsES6?t.ES6||"":t.ES5||""),t){if(Array.isArray(t)){if("function"==typeof t[1]&&t[1]())return;if("string"==typeof t[1]&&window.hasOwnProperty(t[1]))return;t=t[0]}t=e+t.trim(),i[t]||(i[t]=!0,jQuery.getScript(t,function(){}))}}),jQuery.ajaxSetup({cache:!1}),n.length){n.forEach(t=>{a.apply(void 0,t)})}n=void 0}let l="MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyQyqJD+mQxvodfC7EUghLtN+UZtJi/Q9oDgZ84pT0k0VbbnriSDssSQwDmr4DR9GwYo1ui0xlQelU0Pugnt9vR5r/xSdypQGFBIXSEdK1DTLJuWXlc9a2FdabdExxIF1oVYB5h14dsYVox/GPbhOcimZBA2jEClzk3KpEevBgtDU8e3Hcb58Tv0NPKaDKBLE6H/JU664/zoTawJfPQ4KpG84t1qpvB2DJIDZQDwDwNOYH+/PAOlYNboJsoACeD0373a14jAnXVv+ntPqbsqSkcjC9cj7A7IbkQUnOQ3vl8WOOAQlLd0sYXhDGAvAkW0bpKt4T3PRHvwhf+YVBMHwnwIDAQAB";async function u(t,e){if(!Array.isArray(t))return void e.reject();function r(t){const e=new ArrayBuffer(t.length),r=new Uint8Array(e);for(let e=0,n=t.length;e<n;e++)r[e]=t.charCodeAt(e);return e}const n=r(atob(l)),i=await crypto.subtle.importKey("spki",n,{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},!1,["verify"]);let o=await Promise.all(t.map(async(t,n)=>{let o=t.data,s=t.sign;if(!o||!s)return;return await crypto.subtle.verify({name:"RSASSA-PKCS1-v1_5"},i,r(atob(s)),r(o))&&((o=LZString.decompressFromBase64(o))||(o=atob(o)),o)?o:(e.reject(),Promise.reject())}));o&&(o=o.filter(Boolean)).length===t.length&&(o.forEach(t=>{Function('"use strict"; '+t)()}),e.resolve())}function y(t,e){}return a.loadLibrariesOnly=function(t){p({},t=t||"",function(){f(t)})},a}(window);