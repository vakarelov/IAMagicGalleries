/*
 * Copyright Â© ${YEAR}  Information Aesthetics. All rights reserved.
 * This work is licensed under the GPL2, V2 license.
 */

/*! ia-designer 06-11-2023
Copyright: Information Aesthetics, License:  GPL2, V2/*/

var IA_Presenter_loader=function(t){var e=[["dist/mousetrap.min.js",function(){return window.hasOwnProperty("Mousetrap")}],["dist/simple-statistics.min.js",function(){return window.hasOwnProperty("ss")&&ss.hasOwnProperty("linearRegression")}],["dist/math.min.js",function(){return window.hasOwnProperty("math")&&math.hasOwnProperty("eval")}],["dist/minify.json.min.js",function(){return JSON.hasOwnProperty("minify")}],["dist/lz-string.min.js",function(){return window.hasOwnProperty("LZString")}]],i=[],r=!1,n={},o={},s=0;function a(t,e,i,n){if("object"==typeof i&&(n=i,i=""),i=i||"",n=n||{},e=e||"js",!n.load_condition||"function"!=typeof n.load_condition||n.load_condition())if(r)r.push([t,e,i,n]);else{if(r=[],t.pre_scripts&&(n.pre_scripts=t.pre_scripts,delete t.pre_scripts),n.load_only)return p(n,i,f.bind(void 0,n,i));p(n,i,function(){if("function"==typeof t)t(),f(n,i);else if("string"==typeof t)switch(e){case"js":jQuery.getScript(t).done(function(){f(n,i)}).fail(u);break;case"json":jQuery.get(t,function(){},"text").done(a).fail(u)}else"object"==typeof t&&t.panel_setting&&a(t)})}function a(t){if((t="object"==typeof t?t:JSON.parse(JSON.minify(t))).html_tab_id)o[t.html_tab_id]||(e(t.html_tab_id,t),o[t.html_tab_id]=!0);else{let i=jQuery(".IA_Designer_Container, .IA_Presenter_Container");if(!i.length)return;let r=0;i.each(function(n){if(n=Snap_ia(i[n]),t.container_filter&&"function"==typeof t.container_filter&&!t.container_filter(n))return;t.pre_process_container&&"function"==typeof t.pre_process_container&&t.pre_process_container(n);let a=n.attr("id");if(a||(a="IA_Designer_Container_gui"+s++,n.attr("id",a)),!o[a]){const i=n.select("svg");let s;if(i){const e=i.node.outerHTML;t.initial_graphics={svg:e},e.remove()}else if(s=n.attr("presentation"))if(s.startsWith("base64:")){let e=LZString.decompressFromBase64(s.slice(7));e||(e=atob(s.slice(7))),t.initial_graphics={svg:e},n.attr("presentation","")}else s.startsWith("http")&&(t.initial_graphics=s);t.html_tab_id=a,setTimeout(e.bind(void 0,a,Object.assign({},t)),r),r+=200,o[a]=!0}})}function e(t,e){let i;(i=e.initial_graphics)&&delete e.initial_graphics;var r=IA_Designer.createInterface(t,e);const n=window.getComputedStyle(document.body,null).getPropertyValue("background-color");r.div_container.setStyle({background:n}),window.gui=r,i?"string"==typeof i?r.openGraphics(i,c):"object"==typeof i&&i.hasOwnProperty("svg")&&(r.loadGraphicsFromString(i.svg),c(r)):c(r)}f(t,i)}}var c=function(t){};function p(t,i,r){if(t.after_callback){let e=r;r=function(){e&&e(),t.after_callback()}}if(window.IA_Designer||!window.jQuery)return r&&r();var n=e;t.pre_scripts&&(Array.isArray(t.pre_scripts)||(t.pre_scripts=[t.pre_scripts]),n=[...t.pre_scripts,...n]);var o=[];jQuery.ajaxSetup({cache:!0}),n.forEach(function(t){let e=!1;if(Array.isArray(t)){if("function"==typeof t[1]&&t[1]())return;"base64"===t[1]&&(e=t[2]),t=t[0]}t=t.startsWith("http")?t:i+t,o.push(function(t,e){const i=jQuery.Deferred();return jQuery.getScript(t).done(function(t,e){i.resolve()}),i.promise()}(t))});var s=jQuery.when.apply($,o);r&&s.done(r)}function f(t,e){if("string"==typeof t&&(e=t,t={}),t.post_scripts&&("string"==typeof t.post_scripts&&(t.post_scripts=t.post_scripts.split(",")),i=i.concat(t.post_scripts)),t.crypto&&i.push("dist/ia_md5.min.js"),i.forEach(function(t){if("object"==typeof t&&(t.ES6||t.ES6)&&(t=supportsES6?t.ES6||"":t.ES5||""),t){if(Array.isArray(t)){if("function"==typeof t[1]&&t[1]())return;if("string"==typeof t[1]&&window.hasOwnProperty(t[1]))return;t=t[0]}t=e+t.trim(),n[t]||(n[t]=!0,jQuery.getScript(t,function(){}))}}),jQuery.ajaxSetup({cache:!1}),r.length){r.forEach(t=>{a.apply(void 0,t)})}r=void 0}function u(t,e){}return a.loadLibrariesOnly=function(t){p({},t=t||"",function(){f(t)})},a}(window);
//# sourceMappingURL=iaPresenter_loader.min.js.map